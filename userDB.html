<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    
    <!-- Primary SEO Meta Tags -->
    <title>å‰µä½œè€…è³‡æ–™åº« - ReelMind AI çŸ­å½±éŸ³æ™ºèƒ½é«” | å€‹äººè³‡æ–™ Ã— æˆ‘çš„è…³æœ¬ Ã— å¸³è™Ÿå®šä½ Ã— è¨‚å–®ç®¡ç†</title>
    <meta name="title" content="å‰µä½œè€…è³‡æ–™åº« - ReelMind AI çŸ­å½±éŸ³æ™ºèƒ½é«” | å€‹äººè³‡æ–™ Ã— æˆ‘çš„è…³æœ¬ Ã— å¸³è™Ÿå®šä½ Ã— è¨‚å–®ç®¡ç†" />
    <meta name="description" content="ReelMind å‰µä½œè€…è³‡æ–™åº«ï¼šç®¡ç†æ‚¨çš„å€‹äººè³‡æ–™ã€è…³æœ¬è¨˜éŒ„ã€å¸³è™Ÿå®šä½ã€é¸é¡Œå…§å®¹ã€IPäººè¨­è¦åŠƒã€è¨‚å–®è¨˜éŒ„å’Œç³»çµ±è¨­å®šã€‚" />
    <meta name="keywords" content="å‰µä½œè€…è³‡æ–™åº«,å€‹äººè³‡æ–™,è…³æœ¬ç®¡ç†,å¸³è™Ÿå®šä½,IPäººè¨­è¦åŠƒ,çŸ­å½±éŸ³å·¥å…·" />
    <meta name="author" content="ReelMind AI" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="zh-Hant" />
    <link rel="canonical" href="https://aivideonew.zeabur.app/userDB.html" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://aivideonew.zeabur.app/userDB.html" />
    <meta property="og:title" content="å‰µä½œè€…è³‡æ–™åº« - ReelMind AI çŸ­å½±éŸ³æ™ºèƒ½é«”" />
    <meta property="og:description" content="ç®¡ç†æ‚¨çš„å€‹äººè³‡æ–™ã€è…³æœ¬è¨˜éŒ„ã€å¸³è™Ÿå®šä½ã€é¸é¡Œå…§å®¹å’Œè¨‚å–®è¨˜éŒ„ã€‚" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="å‰µä½œè€…è³‡æ–™åº« - ReelMind AI çŸ­å½±éŸ³æ™ºèƒ½é«”" />
    <meta name="twitter:description" content="ç®¡ç†æ‚¨çš„å€‹äººè³‡æ–™ã€è…³æœ¬è¨˜éŒ„ã€å¸³è™Ÿå®šä½ã€é¸é¡Œå…§å®¹å’Œè¨‚å–®è¨˜éŒ„ã€‚" />
    
    <!-- HTTP å¿«å–æ¨™é ­ -->
    <meta http-equiv="Cache-Control" content="public, max-age=3600">
    <meta http-equiv="Expires" content="3600">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EğŸ¬%3C/text%3E%3C/svg%3E" />
    
    <!-- CSS æ–‡ä»¶ -->
    <link rel="stylesheet" href="assets/css/variables.css" />
    <link rel="stylesheet" href="assets/css/animations.css" />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    
    <!-- UserDB å°ˆç”¨æ¨£å¼ï¼ˆå¾ index.html æå–ï¼‰ -->
    <style>
      /* ===== å°èˆªæ¬„æ¨£å¼ï¼ˆé›»è…¦ç‰ˆå’Œæ‰‹æ©Ÿç‰ˆï¼‰ ===== */
      .top-navbar {
        background: var(--navbar-bg);
        border-bottom: 1px solid var(--border-color);
        padding: 16px 24px;
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        align-items: center;
        box-shadow: 0 1px 3px var(--shadow);
        padding-top: calc(16px + var(--safe-area-inset-top, 0px));
        min-height: 60px;
        position: sticky;
        top: 0;
        z-index: 100;
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }
      
      .navbar-left {
        display: flex;
        align-items: center;
        gap: 24px;
        justify-content: flex-start;
      }
      
      .navbar-title {
        font-size: 30px;
        font-weight: 600;
        color: var(--text-primary);
        text-align: center;
        transition: color 0.3s ease;
        justify-self: center;
      }
      
      .clickable-title {
        cursor: pointer;
        transition: color 0.2s ease;
      }
      
      .clickable-title:hover {
        color: #3b82f6;
      }
      
      .navbar-tabs {
        display: flex;
        gap: 8px;
      }
      
      .navbar-tab {
        padding: 8px 16px;
        border: none;
        background: transparent;
        color: var(--text-secondary);
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s;
        text-decoration: none;
      }
      
      .navbar-tab.active {
        background: var(--button-bg);
        color: var(--button-text);
      }
      
      .navbar-tab:hover:not(.active) {
        background: var(--bg-tertiary);
      }
      
      .navbar-right {
        display: flex;
        align-items: center;
        gap: 16px;
        justify-content: flex-end;
      }
      
      .user-info {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--text-secondary);
        font-size: 14px;
        transition: color 0.3s ease;
        cursor: pointer;
        padding: 8px 12px;
        border-radius: 8px;
        transition: background 0.2s;
      }
      
      .user-info:hover {
        background: #f3f4f6;
      }
      
      .user-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        border: 2px solid #e5ecef;
        object-fit: cover;
        object-position: center;
      }
      
      .user-name {
        font-size: 14px;
        font-weight: 500;
        color: #374151;
      }
      
      .auth-buttons {
        display: flex;
        gap: 8px;
      }
      
      .login-btn, .logout-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 6px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
      }
      
      .login-btn {
        background: #3b82f6;
        color: white;
      }
      
      .login-btn:hover {
        background: #2563eb;
      }
      
      .logout-btn {
        background: #ef4444;
        color: white;
      }
      
      .logout-btn:hover {
        background: #dc2626;
      }
      
      /* æ‰‹æ©Ÿç‰ˆæŠ½å±œæŒ‰éˆ• */
      .mobile-drawer-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 24px;
        color: var(--text-primary);
        cursor: pointer;
        padding: 8px;
        margin-right: 12px;
        border-radius: 4px;
        transition: background-color 0.2s;
      }
      
      .mobile-drawer-toggle:hover {
        background-color: #f3f4f6;
      }
      
      .hamburger-icon {
        display: block;
      }
      
      .mobile-drawer-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
        display: none;
      }
      
      .mobile-drawer {
        position: fixed;
        top: 0;
        left: -300px;
        width: 280px;
        height: 100%;
        background: white;
        z-index: 1000;
        transition: left 0.3s ease;
        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
      }
      
      .mobile-drawer.open {
        left: 0;
      }
      
      .mobile-drawer-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        border-bottom: 1px solid #e5e7eb;
        background: #f8fafc;
      }
      
      .mobile-drawer-header h3 {
        margin: 0;
        font-size: 18px;
        font-weight: 600;
        color: #1f2937;
      }
      
      .mobile-drawer-close {
        background: none;
        border: none;
        font-size: 20px;
        color: #6b7280;
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: background-color 0.2s;
      }
      
      .mobile-drawer-close:hover {
        background-color: #e5e7eb;
      }
      
      .mobile-drawer-content {
        padding: 20px 0;
      }
      
      .mobile-drawer-item {
        display: flex;
        align-items: center;
        padding: 16px 20px;
        color: #374151;
        text-decoration: none;
        transition: background-color 0.2s;
        border-left: 3px solid transparent;
      }
      
      .mobile-drawer-item:hover {
        background-color: #f8fafc;
        color: #1f2937;
      }
      
      .mobile-drawer-item.active {
        background-color: #eff6ff;
        color: #3b82f6;
        border-left-color: #3b82f6;
      }
      
      .mobile-drawer-icon {
        font-size: 20px;
        margin-right: 12px;
        width: 24px;
        text-align: center;
      }
      
      .mobile-drawer-text {
        font-size: 16px;
        font-weight: 500;
      }
      
      /* æ¡Œé¢ç‰ˆæ¨£å¼ - éš±è—æ‰‹æ©Ÿç‰ˆæŠ½å±œ */
      @media (min-width: 769px) {
        .mobile-drawer-toggle {
          display: none !important;
        }
        
        .mobile-drawer {
          display: none !important;
        }
        
        .mobile-drawer-overlay {
          display: none !important;
        }
      }
      
      /* éŸ¿æ‡‰å¼è¨­è¨ˆ - æ‰‹æ©Ÿç‰ˆ */
      @media (max-width: 768px) {
        .top-navbar {
          padding: 12px 16px;
          padding-top: calc(12px + var(--safe-area-inset-top, 0px));
          flex-wrap: wrap;
          gap: 12px;
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          z-index: 1000;
        }
        
        .navbar-left {
          gap: 16px;
          flex: 1;
          min-width: 0;
        }
        
        .navbar-title {
          font-size: 25px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          text-align: center;
        }
        
        .top-navbar {
          grid-template-columns: auto 1fr auto;
        }
        
        .navbar-tabs {
          display: none;
        }
        
        .navbar-right {
          gap: 8px;
        }
        
        .user-info {
          padding: 6px 12px;
          font-size: 14px;
        }
        
        .user-avatar {
          width: 28px !important;
          height: 28px !important;
        }
        
        .user-name {
          font-size: 14px;
        }
        
        .login-btn, .logout-btn {
          padding: 8px 16px;
          font-size: 14px;
        }
        
        .mobile-drawer-toggle {
          display: block !important;
        }
        
        .user-db-page {
          padding-top: 80px;
        }
      }
      
      /* ===== å‰µä½œè€…è³‡æ–™åº«æ¨£å¼ ===== */
      .user-db-page {
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
      }
      
      .page-title {
        font-size: 24px;
        font-weight: 600;
        color: #1f2937;
        margin-bottom: 24px;
        text-align: center;
      }
      
      .user-db-container {
        display: flex;
        gap: 24px;
        min-height: 600px;
      }
      
      .user-db-sidebar {
        width: 280px;
        background: var(--bg-secondary);
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 1px 3px var(--shadow);
        transition: background-color 0.3s ease;
      }
      
      .sidebar-header {
        margin-bottom: 24px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--border-color);
        transition: border-color 0.3s ease;
      }
      
      .user-profile {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      
      .profile-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        border: 2px solid var(--border-color);
        transition: border-color 0.3s ease;
      }
      
      .profile-info h3 {
        margin: 0 0 4px 0;
        font-size: 16px;
        font-weight: 600;
        color: var(--text-primary);
        transition: color 0.3s ease;
      }
      
      .profile-info p {
        margin: 0;
        font-size: 14px;
        color: var(--text-secondary);
        transition: color 0.3s ease;
      }
      
      .sidebar-menu {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }
      
      .menu-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
        border: none;
        background: none;
        text-align: left;
        font-size: 14px;
        color: var(--text-secondary);
      }
      
      .menu-item:hover {
        background: var(--bg-tertiary);
        color: var(--text-primary);
      }
      
      .menu-item.active {
        background: var(--button-bg);
        color: var(--button-text);
      }
      
      .menu-icon {
        font-size: 16px;
      }
      
      .menu-text {
        font-weight: 500;
      }
      
      .menu-divider {
        height: 1px;
        background: var(--border-color);
        margin: 12px 0;
        transition: background-color 0.3s ease;
      }
      
      .logout-item {
        color: #dc2626;
      }
      
      .logout-item:hover {
        background: rgba(239, 68, 68, 0.1);
        color: #dc2626;
      }
      
      .user-db-content {
        flex: 1;
        background: var(--card-bg);
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 1px 3px var(--shadow);
        transition: background-color 0.3s ease;
      }
      
      .db-section {
        display: none;
      }
      
      .db-section.active {
        display: block;
      }
      
      .section-title {
        font-size: 20px;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 16px;
        transition: color 0.3s ease;
      }
      
      .section-content {
        color: var(--text-secondary);
        line-height: 1.6;
        transition: color 0.3s ease;
      }
      
      .profile-details {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
      
      .detail-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        background: var(--bg-secondary);
        border-radius: 8px;
        transition: background-color 0.3s ease;
      }
      
      .detail-item label {
        font-weight: 600;
        color: var(--text-primary);
        min-width: 80px;
        transition: color 0.3s ease;
      }
      
      .detail-item span {
        color: var(--text-secondary);
        transition: color 0.3s ease;
      }
      
      .loading-text {
        text-align: center;
        padding: 40px;
        color: #6b7280;
        font-size: 14px;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .spinner {
        width: 24px;
        height: 24px;
        border: 3px solid #e5e7eb;
        border-top: 3px solid #3b82f6;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      
      /* ===== è…³æœ¬é …ç›®æ¨£å¼ ===== */
      .script-item {
        background: #f8f9fa;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        margin-bottom: 12px;
        overflow: hidden;
      }
      
      .script-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px;
        cursor: pointer;
        background: #fff;
        border-bottom: 1px solid #e5e7eb;
        transition: background-color 0.2s;
      }
      
      .script-header:hover {
        background: #f9fafb;
      }
      
      .script-info {
        display: flex;
        align-items: center;
        gap: 16px;
        flex: 1;
      }
      
      .script-number {
        background: #3b82f6;
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: bold;
        width: 60px;
        min-width: 60px;
        max-width: 60px;
        text-align: center;
        white-space: nowrap;
        display: inline-block;
        box-sizing: border-box;
      }
      
      .script-name {
        font-weight: 500;
        color: #1f2937;
        cursor: pointer;
        padding: 4px 8px;
        border-radius: 4px;
        transition: background-color 0.2s;
      }
      
      .script-name:hover {
        background: #e5e7eb;
      }
      
      .script-date {
        color: #6b7280;
        font-size: 14px;
      }
      
      .script-toggle {
        color: #6b7280;
        font-size: 14px;
      }
      
      .toggle-icon {
        transition: transform 0.2s;
      }
      
      .script-item.active .toggle-icon {
        transform: rotate(180deg);
      }
      
      .script-content {
        padding: 16px;
        background: #fff;
        border-top: 1px solid #e5e7eb;
      }
      
      .script-details {
        margin-bottom: 16px;
      }
      
      /* ===== è¡¨æ ¼æ¨£å¼ ===== */
      .script-table {
        overflow-x: auto;
        margin: 16px 0;
        border-radius: 8px;
        border: 1px solid #e5e7eb;
      }
      
      .script-table table {
        width: 100%;
        border-collapse: collapse;
        font-size: 14px;
        min-width: 800px;
      }
      
      .script-table th,
      .script-table td {
        border: 1px solid #e5e7eb;
        padding: 12px;
        text-align: left;
        white-space: normal;
        word-break: break-word;
        vertical-align: top;
      }
      
      .script-table th {
        background: #f8fafc;
        font-weight: 600;
        color: #374151;
        position: sticky;
        top: 0;
        z-index: 1;
      }
      
      .script-table td {
        color: #4b5563;
      }
      
      .script-table tbody tr:nth-child(even) {
        background: #f9fafb;
      }
      
      .script-table tbody tr:hover {
        background: #f3f4f6;
      }
      
      /* ===== æ“ä½œæŒ‰éˆ•æ¨£å¼ ===== */
      .script-actions {
        display: flex;
        gap: 8px;
        padding: 16px;
        background: #f8f9fa;
        border-top: 1px solid #e5e7eb;
        flex-wrap: wrap;
      }
      
      .action-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s;
      }
      
      .view-btn {
        background: #3b82f6;
        color: white;
      }
      
      .view-btn:hover {
        background: #2563eb;
      }
      
      .download-pdf-btn {
        background: #10b981;
        color: white;
      }
      
      .download-pdf-btn:hover {
        background: #059669;
      }
      
      .download-csv-btn {
        background: #06b6d4;
        color: white;
      }
      
      .download-csv-btn:hover {
        background: #0891b2;
      }
      
      .delete-btn {
        background: #ef4444;
        color: white;
      }
      
      .delete-btn:hover {
        background: #dc2626;
      }
      
      /* ===== å¸³è™Ÿå®šä½é …ç›®æ¨£å¼ ===== */
      .positioning-record-item {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      
      .record-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        padding-bottom: 12px;
        border-bottom: 2px solid #e5e7eb;
      }
      
      .record-number {
        font-weight: 600;
        color: #1f2937;
        font-size: 16px;
      }
      
      .record-date {
        color: #6b7280;
        font-size: 14px;
      }
      
      .record-preview {
        color: #4b5563;
        line-height: 1.6;
        margin-bottom: 12px;
      }
      
      .record-actions {
        display: flex;
        gap: 8px;
        margin-top: 12px;
      }
      
      /* ===== é¸é¡Œé …ç›®æ¨£å¼ ===== */
      .topic-item {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      
      .topic-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        padding-bottom: 12px;
        border-bottom: 2px solid #e5e7eb;
      }
      
      .topic-title {
        font-weight: 600;
        color: #1f2937;
        font-size: 16px;
      }
      
      .topic-date {
        color: #6b7280;
        font-size: 14px;
      }
      
      .topic-content {
        color: #4b5563;
        line-height: 1.6;
        margin-bottom: 12px;
      }
      
      .topic-actions {
        display: flex;
        gap: 8px;
        margin-top: 12px;
      }
      
      /* ===== IPäººè¨­è¦åŠƒé …ç›®æ¨£å¼ ===== */
      .ip-planning-item {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      
      .ip-planning-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        padding-bottom: 12px;
        border-bottom: 2px solid #e5e7eb;
      }
      
      .ip-planning-title {
        font-weight: 600;
        color: #1f2937;
        font-size: 16px;
      }
      
      .ip-planning-date {
        color: #6b7280;
        font-size: 14px;
      }
      
      .ip-planning-content {
        color: #4b5563;
        line-height: 1.6;
        margin-bottom: 12px;
      }
      
      .ip-planning-actions {
        display: flex;
        gap: 8px;
        margin-top: 12px;
      }
      
      /* æ‰‹æ©Ÿç‰ˆé©é… */
      @media (max-width: 768px) {
        .user-db-page {
          padding: 16px;
          padding-top: 80px;
          max-width: 100%;
          overflow-x: hidden;
        }
        
        .user-db-container {
          flex-direction: column;
          max-width: 100%;
          overflow-x: hidden;
        }
        
        .user-db-sidebar {
          width: 100%;
          margin-bottom: 20px;
          border-radius: 12px;
          max-width: 100%;
        }
        
        .user-db-content {
          width: 100%;
          max-width: 100%;
          overflow-x: hidden;
        }
        
        .db-section {
          max-width: 100%;
          overflow-x: hidden;
        }
        
        .section-content {
          max-width: 100%;
          overflow-x: hidden;
          word-wrap: break-word;
        }
        
        /* æ‰‹æ©Ÿç‰ˆè¡¨æ ¼æ¨£å¼ */
        .script-table {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
          margin: 12px 0;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }
        
        .script-table table {
          min-width: 800px;
          font-size: 11px;
          margin: 0;
        }
        
        .script-table th,
        .script-table td {
          padding: 10px 8px;
          white-space: normal;
          word-break: break-word;
          vertical-align: top;
        }
        
        .script-table th {
          font-size: 11px;
          font-weight: 600;
          background: #f8fafc;
          position: sticky;
          left: 0;
          z-index: 1;
        }
        
        .script-table td:first-child {
          position: sticky;
          left: 0;
          background: white;
          z-index: 1;
          font-weight: 500;
        }
        
        .script-table tbody tr:nth-child(even) td:first-child {
          background: #f9fafb;
        }
        
        .script-actions {
          flex-direction: column;
          gap: 10px;
          padding: 12px;
          background: #f8fafc;
          border-top: 1px solid #e5e7eb;
        }
        
        .action-btn {
          padding: 12px 16px;
          font-size: 14px;
          width: 100%;
        }
        
        .script-item {
          margin-bottom: 16px;
          border-radius: 12px;
        }
        
        .script-header {
          padding: 12px 16px;
          flex-wrap: wrap;
          gap: 8px;
        }
        
        .script-info {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
          width: 100%;
        }
        
        .positioning-record-item,
        .topic-item,
        .ip-planning-item {
          padding: 12px;
          margin-bottom: 16px;
        }
        
        .record-actions,
        .topic-item-actions,
        .ip-planning-actions {
          flex-direction: column;
          gap: 8px;
        }
        
        .record-actions .action-btn,
        .topic-item-actions .action-btn,
        .ip-planning-actions .action-btn {
          width: 100%;
          padding: 12px 16px;
        }
      }
    </style>
  </head>
  <body>
    <!-- å°èˆªæ¬„ -->
    <div class="top-navbar">
      <div class="navbar-left">
        <!-- æ‰‹æ©Ÿç‰ˆæŠ½å±œæŒ‰éˆ• -->
        <button class="mobile-drawer-toggle" onclick="toggleMobileDrawer()">
          <span class="hamburger-icon">â˜°</span>
        </button>
        <div class="navbar-tabs">
          <a href="index.html" class="navbar-tab">é¦–é </a>
          <a href="mode1.html" class="navbar-tab">IPäººè¨­è¦åŠƒ</a>
          <a href="mode2.html" class="navbar-tab">AIé¡§å•</a>
          <a href="mode3.html" class="navbar-tab">ä¸€éµç”Ÿæˆ</a>
          <a href="index.html#forum" class="navbar-tab">è«–å£‡ä»‹ç´¹</a>
          <a href="index.html#guide" class="navbar-tab">å¯¦æˆ°æŒ‡å—</a>
          <a href="userDB.html" class="navbar-tab active">å‰µä½œè€…è³‡æ–™åº«</a>
        </div>
      </div>
      <div class="navbar-title clickable-title" onclick="window.location.href='index.html'">ReelMind</div>
      <div class="navbar-right">
        <div class="user-info" id="userInfo" style="display: none;" onclick="window.location.href='userDB.html'">
          <img id="userAvatar" class="user-avatar" src="" alt="ç”¨æˆ¶é ­åƒ" style="width: 32px; height: 32px; border-radius: 50%; object-fit: cover;">
          <span id="userName" class="user-name"></span>
        </div>
        <div class="auth-buttons" id="authButtons" style="display: none;">
          <button id="loginBtn" class="login-btn" onclick="goToLogin()" style="padding: 8px 16px; background: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer;">ğŸ” ç™»å…¥</button>
        </div>
      </div>
    </div>

    <!-- æ‰‹æ©Ÿç‰ˆæŠ½å±œ -->
    <div class="mobile-drawer-overlay" id="mobileDrawerOverlay" onclick="closeMobileDrawer()"></div>
    <div class="mobile-drawer" id="mobileDrawer">
      <div class="mobile-drawer-header">
        <h3>é¸å–®</h3>
        <button class="mobile-drawer-close" onclick="closeMobileDrawer()">âœ•</button>
      </div>
      <div class="mobile-drawer-content">
        <a href="index.html" class="mobile-drawer-item">
          <span class="mobile-drawer-icon">ğŸ </span>
          <span class="mobile-drawer-text">é¦–é </span>
        </a>
        <a href="mode1.html" class="mobile-drawer-item">
          <span class="mobile-drawer-icon">ğŸ­</span>
          <span class="mobile-drawer-text">IPäººè¨­è¦åŠƒ</span>
        </a>
        <a href="mode2.html" class="mobile-drawer-item">
          <span class="mobile-drawer-icon">ğŸ’¬</span>
          <span class="mobile-drawer-text">AIé¡§å•</span>
        </a>
        <a href="mode3.html" class="mobile-drawer-item">
          <span class="mobile-drawer-icon">âš¡</span>
          <span class="mobile-drawer-text">ä¸€éµç”Ÿæˆ</span>
        </a>
        <a href="index.html#forum" class="mobile-drawer-item" onclick="window.location.href='index.html#forum'; closeMobileDrawer(); return false;">
          <span class="mobile-drawer-icon"><i class="fas fa-comments"></i></span>
          <span class="mobile-drawer-text">è«–å£‡ä»‹ç´¹</span>
        </a>
        <a href="index.html#guide" class="mobile-drawer-item" onclick="window.location.href='index.html#guide'; closeMobileDrawer(); return false;">
          <span class="mobile-drawer-icon"><i class="fas fa-book-open"></i></span>
          <span class="mobile-drawer-text">å¯¦æˆ°æŒ‡å—</span>
        </a>
        <a href="userDB.html" class="mobile-drawer-item active">
          <span class="mobile-drawer-icon">ğŸ“Š</span>
          <span class="mobile-drawer-text">å‰µä½œè€…è³‡æ–™åº«</span>
        </a>
      </div>
    </div>

    <!-- å‰µä½œè€…è³‡æ–™åº«é é¢ -->
    <div class="user-db-page">
      <h2 class="page-title">ğŸ‘¤ å‰µä½œè€…è³‡æ–™åº«</h2>
      <div class="user-db-container">
        <!-- å·¦å´åŠŸèƒ½é¸å–® -->
        <div class="user-db-sidebar">
          <div class="sidebar-header">
            <div class="user-profile">
              <img id="dbUserAvatar" class="profile-avatar" src="" alt="ç”¨æˆ¶é ­åƒ">
              <div class="profile-info">
                <h3 id="dbUserName">ç”¨æˆ¶åç¨±</h3>
                <p id="dbUserEmail">user@example.com</p>
              </div>
            </div>
          </div>
          <nav class="sidebar-menu">
            <div class="menu-item active" onclick="showDbSection('personalInfo')">
              <span class="menu-icon">ğŸ‘¤</span>
              <span class="menu-text">å€‹äººè³‡æ–™</span>
            </div>
            <div class="menu-item" onclick="showDbSection('myScripts')">
              <span class="menu-icon">ğŸ’¾</span>
              <span class="menu-text">æˆ‘çš„è…³æœ¬</span>
            </div>
            <div class="menu-item" onclick="showDbSection('accountPositioning')">
              <span class="menu-icon">ğŸ¯</span>
              <span class="menu-text">å¸³è™Ÿå®šä½</span>
            </div>
            <div class="menu-item" onclick="showDbSection('topicRecords')">
              <span class="menu-icon">ğŸ’¡</span>
              <span class="menu-text">é¸é¡Œå…§å®¹</span>
            </div>
            <div class="menu-item" onclick="showDbSection('ipPlanning')">
              <span class="menu-icon">ğŸ­</span>
              <span class="menu-text">IPäººè¨­è¦åŠƒ</span>
            </div>
            <div class="menu-item" onclick="showDbSection('myOrders')">
              <span class="menu-icon">ğŸ’³</span>
              <span class="menu-text">æˆ‘çš„è¨‚å–®</span>
            </div>
            <div class="menu-item" onclick="showDbSection('settings')">
              <span class="menu-icon">âš™ï¸</span>
              <span class="menu-text">è¨­å®š</span>
            </div>
            <div class="menu-item" onclick="showDbSection('usageStats')">
              <span class="menu-icon">ğŸ“Š</span>
              <span class="menu-text">ä½¿ç”¨çµ±è¨ˆ</span>
            </div>
            <div class="menu-item" onclick="showDbSection('helpCenter')">
              <span class="menu-icon">â“</span>
              <span class="menu-text">å¹«åŠ©ä¸­å¿ƒ</span>
            </div>
            <div class="menu-divider"></div>
            <div class="menu-item logout-item" onclick="logout()">
              <span class="menu-icon">ğŸšª</span>
              <span class="menu-text">ç™»å‡º</span>
            </div>
          </nav>
        </div>
        <!-- å³å´å…§å®¹å€åŸŸ -->
        <div class="user-db-content">
          <!-- å€‹äººè³‡æ–™ -->
          <div id="db-personalInfo" class="db-section active">
            <h3 class="section-title">ğŸ‘¤ å€‹äººè³‡æ–™</h3>
            <div class="section-content">
              <p>è¼‰å…¥ä¸­...</p>
            </div>
          </div>
          <!-- æˆ‘çš„è…³æœ¬ -->
          <div id="db-myScripts" class="db-section">
            <h3 class="section-title">ğŸ’¾ æˆ‘çš„è…³æœ¬</h3>
            <div class="section-content">
              <p>è¼‰å…¥ä¸­...</p>
            </div>
          </div>
          <!-- å¸³è™Ÿå®šä½ -->
          <div id="db-accountPositioning" class="db-section">
            <h3 class="section-title">ğŸ¯ å¸³è™Ÿå®šä½</h3>
            <div class="section-content">
              <p>è¼‰å…¥ä¸­...</p>
            </div>
          </div>
          <!-- é¸é¡Œå…§å®¹ -->
          <div id="db-topicRecords" class="db-section">
            <h3 class="section-title">ğŸ’¡ é¸é¡Œå…§å®¹</h3>
            <div class="section-content">
              <p>è¼‰å…¥ä¸­...</p>
            </div>
          </div>
          <!-- IPäººè¨­è¦åŠƒ -->
          <div id="db-ipPlanning" class="db-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; gap: 12px;">
              <h3 class="section-title">ğŸ­ IPäººè¨­è¦åŠƒ</h3>
              <button onclick="exportIpPlanningResults()" style="padding: 8px 16px; background: #3B82F6; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; font-weight: 500;">ğŸ“¥ åŒ¯å‡º</button>
            </div>
            <div class="section-content">
              <div class="ip-planning-tabs" style="display: flex; gap: 8px; margin-bottom: 20px; border-bottom: 2px solid #E5E7EB;">
                <button class="ip-planning-tab active" onclick="showIpPlanningType('profile')" style="padding: 8px 16px; border: none; background: transparent; cursor: pointer; border-bottom: 2px solid #3B82F6; color: #3B82F6; font-weight: 600;">IP Profile</button>
                <button class="ip-planning-tab" onclick="showIpPlanningType('plan')" style="padding: 8px 16px; border: none; background: transparent; cursor: pointer; color: #6B7280;">14å¤©è¦åŠƒ</button>
                <button class="ip-planning-tab" onclick="showIpPlanningType('scripts')" style="padding: 8px 16px; border: none; background: transparent; cursor: pointer; color: #6B7280;">ä»Šæ—¥è…³æœ¬</button>
              </div>
              <div id="ip-planning-content" class="ip-planning-content">
                <div class="loading-text">è¼‰å…¥ä¸­...</div>
              </div>
            </div>
          </div>
          <!-- æˆ‘çš„è¨‚å–® -->
          <div id="db-myOrders" class="db-section">
            <h3 class="section-title">ğŸ’³ æˆ‘çš„è¨‚å–®</h3>
            <div class="section-content" id="myOrdersContent">
              <div class="loading-text">è¼‰å…¥ä¸­...</div>
            </div>
          </div>
          <!-- è¨­å®š -->
          <div id="db-settings" class="db-section">
            <h3 class="section-title">âš™ï¸ è¨­å®š</h3>
            <div class="section-content" id="settingsContent">
              <div class="settings-container">
                <!-- BYOK èªªæ˜ -->
                <div class="byok-notice" style="margin-bottom: 24px; padding: 16px; background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 8px;">
                  <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                    <span style="font-size: 24px;">ğŸ”‘</span>
                    <h4 style="margin: 0; color: #0369a1; font-size: 16px; font-weight: 600;">å¤§å‹èªè¨€æ¨¡å‹(LLM) API é‡‘é‘°ç®¡ç†</h4>
                  </div>
                  <p style="margin: 0; color: #0c4a6e; font-size: 14px; line-height: 1.6;">
                    ä½¿ç”¨æ‚¨è‡ªå·±çš„ API é‡‘é‘°å¯ä»¥ç²å¾—æ›´é«˜çš„ä½¿ç”¨é¡åº¦å’Œæ›´ç©©å®šçš„æœå‹™
                  </p>
                </div>
                
                <div class="setting-group">
                  <h4>ğŸ”‘ å¤§å‹èªè¨€æ¨¡å‹(LLM) API é‡‘é‘°ç®¡ç†</h4>
                  <div class="setting-item">
                    <label for="llmProvider">é¸æ“‡å¤§å‹èªè¨€æ¨¡å‹(LLM) æä¾›å•†</label>
                    <select id="llmProvider" style="margin-bottom: 12px; padding: 8px 12px; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 14px; width: 100%;">
                      <option value="gemini">Google Gemini</option>
                      <option value="openai">OpenAI (GPT)</option>
                    </select>
                  </div>
                  <div class="setting-item" id="llmKeyContainer">
                    <label for="llmApiKey">API é‡‘é‘°</label>
                    <div style="display: flex; gap: 8px; align-items: center;">
                      <input 
                        type="password" 
                        id="llmApiKey" 
                        placeholder="è¼¸å…¥æ‚¨çš„ API é‡‘é‘°"
                        style="flex: 1; padding: 8px 12px; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 14px;"
                      />
                      <button 
                        type="button" 
                        onclick="toggleApiKeyVisibility()"
                        style="padding: 8px 12px; background: #f3f4f6; border: 1px solid #e5e7eb; border-radius: 6px; cursor: pointer;"
                      >
                        <span id="toggleKeyIcon">ğŸ‘ï¸</span>
                      </button>
                    </div>
                    <div id="savedKeyDisplay" style="display: none; margin-top: 8px;">
                      <span style="color: #6b7280; font-size: 12px;">å·²ä¿å­˜çš„é‡‘é‘°: <span id="savedKeyLast4"></span></span>
                      <button 
                        type="button" 
                        onclick="clearSavedApiKey()"
                        style="margin-left: 8px; padding: 4px 8px; font-size: 12px; color: #ef4444; background: none; border: none; cursor: pointer;"
                      >
                        æ¸…é™¤
                      </button>
                    </div>
                    <span class="setting-desc" style="margin-top: 8px; display: block; color: #6b7280; font-size: 12px;">
                      æ‚¨çš„ API é‡‘é‘°å°‡ä»¥åŠ å¯†æ–¹å¼å®‰å…¨å­˜å„²åœ¨ä¼ºæœå™¨ä¸Šï¼Œåƒ…ç”¨æ–¼ç”Ÿæˆ AI å…§å®¹
                    </span>
                  </div>
                  <div class="setting-item">
                    <button onclick="saveApiKey()" style="margin-right: 8px; padding: 10px 16px; background: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 500;">ğŸ’¾ ä¿å­˜é‡‘é‘°</button>
                    <button onclick="testApiKey()" style="padding: 10px 16px; background: #f3f4f6; color: #374151; border: 1px solid #e5e7eb; border-radius: 6px; cursor: pointer; font-weight: 500;">ğŸ§ª æ¸¬è©¦é‡‘é‘°</button>
                    <span class="setting-desc" style="display: block; margin-top: 8px; color: #6b7280; font-size: 12px;">
                      ä¿å­˜å‰å»ºè­°å…ˆæ¸¬è©¦é‡‘é‘°æ˜¯å¦æœ‰æ•ˆ
                    </span>
                    <div id="testKeyResult" style="display: none; margin-top: 12px; padding: 12px; border-radius: 6px; font-size: 14px;"></div>
                  </div>
                </div>
                
                <div class="setting-group" style="margin-top: 32px;">
                  <h4>ğŸ“Š æ•¸æ“šç®¡ç†</h4>
                  <div class="setting-item">
                    <button onclick="exportUserData()" style="padding: 10px 16px; background: #f3f4f6; color: #374151; border: 1px solid #e5e7eb; border-radius: 6px; cursor: pointer; font-weight: 500; margin-bottom: 8px;">ğŸ“¥ åŒ¯å‡ºæˆ‘çš„è³‡æ–™</button>
                    <span class="setting-desc" style="display: block; color: #6b7280; font-size: 12px;">åŒ¯å‡ºæ‰€æœ‰è…³æœ¬ã€å°è©±ã€å®šä½è¨˜éŒ„ç‚º CSV æª”æ¡ˆ</span>
                  </div>
                  <div class="setting-item">
                    <button onclick="clearUserData()" style="padding: 10px 16px; background: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; border-radius: 6px; cursor: pointer; font-weight: 500; margin-bottom: 8px;">ğŸ—‘ï¸ æ¸…é™¤æœ¬åœ°å¿«å–</button>
                    <span class="setting-desc" style="display: block; color: #6b7280; font-size: 12px;">æ¸…é™¤æœ¬åœ°æš«å­˜æ•¸æ“š</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- ä½¿ç”¨çµ±è¨ˆ -->
          <div id="db-usageStats" class="db-section">
            <h3 class="section-title">ğŸ“Š ä½¿ç”¨çµ±è¨ˆ</h3>
            <div class="section-content" id="usageStatsContent">
              <div class="stats-overview" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; margin-bottom: 24px;">
                <div class="stat-card" style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
                  <div class="stat-number" id="totalScripts" style="font-size: 32px; font-weight: 700; color: #3b82f6; margin-bottom: 8px;">0</div>
                  <div class="stat-label" style="color: #6b7280; font-size: 14px;">å·²ç”Ÿæˆè…³æœ¬</div>
                </div>
                <div class="stat-card" style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
                  <div class="stat-number" id="totalPositioning" style="font-size: 32px; font-weight: 700; color: #10b981; margin-bottom: 8px;">0</div>
                  <div class="stat-label" style="color: #6b7280; font-size: 14px;">å¸³è™Ÿå®šä½è¨˜éŒ„</div>
                </div>
                <div class="stat-card" style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
                  <div class="stat-number" id="totalTopics" style="font-size: 32px; font-weight: 700; color: #f59e0b; margin-bottom: 8px;">0</div>
                  <div class="stat-label" style="color: #6b7280; font-size: 14px;">é¸é¡Œè¨˜éŒ„</div>
                </div>
                <div class="stat-card" style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
                  <div class="stat-number" id="totalConversations" style="font-size: 32px; font-weight: 700; color: #8b5cf6; margin-bottom: 8px;">0</div>
                  <div class="stat-label" style="color: #6b7280; font-size: 14px;">å°è©±æ¬¡æ•¸</div>
                </div>
              </div>
              <div class="stats-chart" style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <canvas id="usageChart"></canvas>
              </div>
            </div>
          </div>
          <!-- å¹«åŠ©ä¸­å¿ƒ -->
          <div id="db-helpCenter" class="db-section">
            <h3 class="section-title">â“ å¹«åŠ©ä¸­å¿ƒ</h3>
            <div class="section-content" id="helpContent">
              <div class="help-container">
                <div class="help-section" style="margin-bottom: 24px; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                  <h4 style="margin: 0 0 12px 0; color: #1f2937; font-size: 18px; font-weight: 600;">ğŸš€ å¿«é€Ÿé–‹å§‹</h4>
                  <ul style="margin: 0; padding-left: 20px; color: #374151; line-height: 1.8;">
                    <li>é¦–æ¬¡ä½¿ç”¨å»ºè­°å…ˆå˜—è©¦ã€Œä¸€éµç”Ÿæˆã€åŠŸèƒ½</li>
                    <li>é»æ“Šã€Œé–‹å§‹ã€æŒ‰éˆ•å³å¯ç”Ÿæˆå¸³è™Ÿå®šä½ã€é¸é¡Œã€è…³æœ¬</li>
                    <li>æ‰€æœ‰ç”Ÿæˆå…§å®¹æœƒè‡ªå‹•ä¿å­˜åˆ°ã€Œæˆ‘çš„è…³æœ¬ã€</li>
                  </ul>
                </div>
                <div class="help-section" style="margin-bottom: 24px; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                  <h4 style="margin: 0 0 12px 0; color: #1f2937; font-size: 18px; font-weight: 600;">ğŸ“ ä¸‰å¤§ä½¿ç”¨æ¨¡å¼</h4>
                  <ul style="margin: 0; padding-left: 20px; color: #374151; line-height: 1.8;">
                    <li><strong>ä¸€éµç”Ÿæˆï¼š</strong>å¿«é€Ÿç”Ÿæˆå®šä½ã€é¸é¡Œã€è…³æœ¬</li>
                    <li><strong>AIé¡§å•ï¼š</strong>æ·±åº¦å°è©±ï¼Œå…·å‚™è¨˜æ†¶åŠŸèƒ½</li>
                    <li><strong>IPäººè¨­è¦åŠƒï¼š</strong>14å¤©è¦åŠƒèˆ‡å€‹äººåŒ–è³‡æ–™åº«</li>
                  </ul>
                </div>
                <div class="help-section" style="margin-bottom: 24px; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                  <h4 style="margin: 0 0 12px 0; color: #1f2937; font-size: 18px; font-weight: 600;">ğŸ’¾ è³‡æ–™åº«åŠŸèƒ½</h4>
                  <ul style="margin: 0; padding-left: 20px; color: #374151; line-height: 1.8;">
                    <li>æ‰€æœ‰ç”Ÿæˆå…§å®¹è‡ªå‹•ä¿å­˜</li>
                    <li>å¯åœ¨ã€Œå‰µä½œè€…è³‡æ–™åº«ã€æŸ¥çœ‹æ­·å²è¨˜éŒ„</li>
                    <li>æ”¯æŒé‡å‘½åã€åˆªé™¤ã€æŸ¥çœ‹è©³æƒ…</li>
                  </ul>
                </div>
                <div class="help-section" style="margin-bottom: 24px; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                  <h4 style="margin: 0 0 12px 0; color: #1f2937; font-size: 18px; font-weight: 600;">â“ å¸¸è¦‹å•é¡Œ</h4>
                  <div class="faq-item" style="margin-bottom: 16px;">
                    <strong style="display: block; margin-bottom: 4px; color: #1f2937;">Q: å¦‚ä½•ä¿å­˜è…³æœ¬ï¼Ÿ</strong>
                    <p style="margin: 0; color: #6b7280;">A: é»æ“Šç”Ÿæˆçµæœå³ä¸Šè§’çš„ã€Œä¿å­˜ã€æŒ‰éˆ•å³å¯ã€‚</p>
                  </div>
                  <div class="faq-item" style="margin-bottom: 16px;">
                    <strong style="display: block; margin-bottom: 4px; color: #1f2937;">Q: å¯ä»¥åŒ¯å‡ºè³‡æ–™å—ï¼Ÿ</strong>
                    <p style="margin: 0; color: #6b7280;">A: å¯ä»¥ï¼Œåœ¨ã€Œè¨­å®šã€â†’ã€Œè³‡æ–™ç®¡ç†ã€ä¸­é¸æ“‡åŒ¯å‡ºã€‚</p>
                  </div>
                  <div class="faq-item">
                    <strong style="display: block; margin-bottom: 4px; color: #1f2937;">Q: å¦‚ä½•åˆªé™¤è¨˜éŒ„ï¼Ÿ</strong>
                    <p style="margin: 0; color: #6b7280;">A: åœ¨ã€Œå‰µä½œè€…è³‡æ–™åº«ã€ä¸­æ‰¾åˆ°å°æ‡‰è¨˜éŒ„ï¼Œé»æ“Šåˆªé™¤æŒ‰éˆ•ã€‚</p>
                  </div>
                </div>
                <div class="help-section" style="padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                  <h4 style="margin: 0 0 12px 0; color: #1f2937; font-size: 18px; font-weight: 600;">ğŸ“ è¯çµ¡æˆ‘å€‘</h4>
                  <p style="margin: 0 0 8px 0; color: #374151;">å¦‚æœ‰å•é¡Œï¼Œè«‹è¯ç¹«å®¢æœï¼š</p>
                  <ul style="margin: 0; padding-left: 20px; color: #374151; line-height: 1.8;">
                    <li>Email: aiagent168168@gmail.com</li>
                    <li>Discord: <a href="https://AIJobschool.short.gy/UUwpEG" target="_blank" style="color: #3b82f6; text-decoration: none;">åŠ å…¥ç¤¾ç¾¤</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- è¼‰å…¥å…±ç”¨ JavaScript æª”æ¡ˆ -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/api.js"></script>
    <script src="assets/js/common.js"></script>
    <script src="assets/js/userDB.js"></script>
    
    <script>
      // API_BASE_URL å·²åœ¨ config.js ä¸­å®šç¾©ç‚ºå…¨å±€è®Šæ•¸
      // é€™è£¡ç›´æ¥ä½¿ç”¨ window.APP_CONFIGï¼Œé¿å…é‡è¤‡è²æ˜
      const API_URL = window.APP_CONFIG?.API_BASE || 'https://aivideobackend.zeabur.app';
      let ipPlanningToken = localStorage.getItem('ipPlanningToken') || '';
      let ipPlanningUser = JSON.parse(localStorage.getItem('ipPlanningUser') || 'null');

      // æ‰‹æ©Ÿç‰ˆæŠ½å±œåˆ‡æ›
      function toggleMobileDrawer() {
        const drawer = document.getElementById('mobileDrawer');
        const overlay = document.getElementById('mobileDrawerOverlay');
        
        if (drawer && overlay) {
          const isOpen = drawer.classList.contains('open');
          
          if (isOpen) {
            closeMobileDrawer();
          } else {
            openMobileDrawer();
          }
        }
      }

      function openMobileDrawer() {
        const drawer = document.getElementById('mobileDrawer');
        const overlay = document.getElementById('mobileDrawerOverlay');
        
        if (drawer && overlay) {
          drawer.classList.add('open');
          overlay.style.display = 'block';
          document.body.style.overflow = 'hidden';
        }
      }

      function closeMobileDrawer() {
        const drawer = document.getElementById('mobileDrawer');
        const overlay = document.getElementById('mobileDrawerOverlay');
        
        if (drawer && overlay) {
          drawer.classList.remove('open');
          overlay.style.display = 'none';
          document.body.style.overflow = '';
        }
      }
      
      // ç™»å…¥/ç™»å‡ºå‡½æ•¸ï¼ˆå¾ common.js ä½¿ç”¨ï¼‰
      function goToLogin() {
        if (window.ReelMindCommon && window.ReelMindCommon.goToLogin) {
          window.ReelMindCommon.goToLogin();
        } else {
          window.location.href = 'index.html';
        }
      }
      
      function logout() {
        // æ¸…é™¤æ‰€æœ‰ç™»å…¥ç›¸é—œçš„ localStorage
        localStorage.removeItem('ipPlanningToken');
        localStorage.removeItem('ipPlanningRefreshToken');
        localStorage.removeItem('ipPlanningUser');
        localStorage.removeItem('ipPlanningTokenUpdated');
        localStorage.removeItem('subscriptionStatus');
        
        // æ¸…é™¤ CSRF Token ç·©å­˜
        if (window.Api && window.Api.clearCsrfToken) {
          window.Api.clearCsrfToken();
        }
        
        // ç›´æ¥è·³è½‰åˆ°é¦–é ï¼ˆä¸é¡¯ç¤ºä¸­é–“é é¢ï¼‰
        window.location.href = 'index.html';
      }
      
      // æ›´æ–°ç”¨æˆ¶è³‡è¨Šé¡¯ç¤º
      function updateUserInfo() {
        const userInfoDiv = document.getElementById('userInfo');
        const authButtonsDiv = document.getElementById('authButtons');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const dbUserAvatar = document.getElementById('dbUserAvatar');
        const dbUserName = document.getElementById('dbUserName');
        const dbUserEmail = document.getElementById('dbUserEmail');
        
        if (ipPlanningUser && ipPlanningToken) {
          // é¡¯ç¤ºç”¨æˆ¶è³‡è¨Š
          if (userInfoDiv) userInfoDiv.style.display = 'flex';
          if (authButtonsDiv) authButtonsDiv.style.display = 'none';
          
          if (userAvatar && ipPlanningUser.picture) {
            userAvatar.src = ipPlanningUser.picture;
            userAvatar.alt = ipPlanningUser.name || 'ç”¨æˆ¶é ­åƒ';
          }
          
          if (userName) {
            userName.textContent = ipPlanningUser.name || 'ç”¨æˆ¶';
          }
          
          if (dbUserAvatar && ipPlanningUser.picture) {
            dbUserAvatar.src = ipPlanningUser.picture;
            dbUserAvatar.alt = ipPlanningUser.name || 'ç”¨æˆ¶é ­åƒ';
          }
          
          if (dbUserName) {
            dbUserName.textContent = ipPlanningUser.name || 'ç”¨æˆ¶åç¨±';
          }
          
          if (dbUserEmail) {
            dbUserEmail.textContent = ipPlanningUser.email || 'user@example.com';
          }
        } else {
          // é¡¯ç¤ºç™»å…¥æŒ‰éˆ•
          if (userInfoDiv) userInfoDiv.style.display = 'none';
          if (authButtonsDiv) authButtonsDiv.style.display = 'flex';
        }
      }
      
      // åˆ‡æ›è³‡æ–™åº«å€å¡Š
      function showDbSection(sectionName) {
        // éš±è—æ‰€æœ‰åˆ†å€
        document.querySelectorAll('.db-section').forEach(section => {
          section.classList.remove('active');
        });
        
        // ç§»é™¤æ‰€æœ‰é¸å–®é …çš„activeç‹€æ…‹
        document.querySelectorAll('.menu-item').forEach(item => {
          item.classList.remove('active');
        });
        
        // é¡¯ç¤ºé¸ä¸­çš„åˆ†å€
        const targetSection = document.getElementById(`db-${sectionName}`);
        if (targetSection) {
          targetSection.classList.add('active');
        }
        
        // æ·»åŠ å°æ‡‰é¸å–®é …çš„activeç‹€æ…‹
        const targetMenuItem = document.querySelector(`[onclick="showDbSection('${sectionName}')"]`);
        if (targetMenuItem) {
          targetMenuItem.classList.add('active');
        }
        
        // æ ¹æ“šåˆ†å€è¼‰å…¥ç›¸æ‡‰æ•¸æ“š
        switch(sectionName) {
          case 'personalInfo':
            loadPersonalInfoForUserDB();
            break;
          case 'myScripts':
            loadMyScriptsForUserDB();
            break;
          case 'settings':
            loadSavedApiKey();
            break;
          case 'accountPositioning':
            loadPositioningRecordsForUserDB();
            break;
          case 'topicRecords':
            loadTopicHistoryForUserDB();
            break;
          case 'ipPlanning':
            loadIpPlanningResultsForUserDB();
            break;
          case 'myOrders':
            loadMyOrdersForUserDB();
            break;
          case 'usageStats':
            loadUsageStatsForUserDB();
            break;
          case 'helpCenter':
            // å¹«åŠ©ä¸­å¿ƒå…§å®¹å·²åœ¨HTMLä¸­å®šç¾©ï¼Œç„¡éœ€å‹•æ…‹è¼‰å…¥
            break;
        }
      }
      
      // çµ±ä¸€çš„è¼‰å…¥å‹•ç•«å‡½æ•¸
      function showLoadingAnimation(container, message = 'è¼‰å…¥ä¸­...') {
        if (!container) return;
        container.innerHTML = `
          <div style="display: flex; align-items: center; justify-content: center; padding: 40px; gap: 12px; flex-direction: column;">
            <div class="spinner" style="width: 24px; height: 24px; border: 3px solid #e5e7eb; border-top: 3px solid #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 8px;"></div>
            <span style="color: #6b7280; font-size: 14px;">${message}</span>
          </div>
        `;
      }
      
      // æ ¼å¼åŒ–å°ç£æ™‚å€æ™‚é–“
      function formatTaiwanTime(dateString) {
        if (!dateString) return '-';
        try {
          const date = new Date(dateString);
          if (isNaN(date.getTime())) {
            return dateString;
          }
          return date.toLocaleString('zh-TW', {
            timeZone: 'Asia/Taipei',
            year: 'numeric',
            month: '2-digit',
            day: '2-digit',
            hour: '2-digit',
            minute: '2-digit'
          });
        } catch (error) {
          console.error('æ ¼å¼åŒ–å°ç£æ™‚å€æ™‚é–“éŒ¯èª¤:', error);
          return dateString;
        }
      }
      
      // é¡¯ç¤º Toast é€šçŸ¥
      function showToast(message, duration = 3000) {
        if (window.ReelMindCommon && window.ReelMindCommon.showToast) {
          window.ReelMindCommon.showToast(message, duration);
        } else {
          alert(message);
        }
      }
      
      // è¼‰å…¥å€‹äººè³‡æ–™åº«çš„å€‹äººè³‡æ–™
      async function loadPersonalInfoForUserDB() {
        const content = document.querySelector('#db-personalInfo .section-content');
        if (!content) return;
        
        if (!ipPlanningUser) {
          content.innerHTML = '<div class="loading-text">è«‹å…ˆç™»å…¥ä»¥æŸ¥çœ‹å€‹äººè³‡æ–™</div>';
          return;
        }
        
        showLoadingAnimation(content, 'è¼‰å…¥å€‹äººè³‡æ–™ä¸­...');
        
        setTimeout(async () => {
          await renderPersonalInfoContent();
        }, 300);
        
        if (ipPlanningToken && !ipPlanningUser.created_at) {
          try {
            await fetchUserInfo();
            if (ipPlanningUser && ipPlanningUser.created_at) {
              renderPersonalInfoContent();
            }
          } catch (error) {
            console.warn('ç„¡æ³•å¾ä¼ºæœå™¨ç²å–æœ€æ–°è³‡è¨Šï¼Œä½¿ç”¨æœ¬åœ°è³‡æ–™');
          }
        }
      }
      
      // æ¸²æŸ“å€‹äººè³‡æ–™å…§å®¹
      async function renderPersonalInfoContent() {
        const content = document.querySelector('#db-personalInfo .section-content');
        if (!content || !ipPlanningUser) return;
        
        let registrationTime = 'æœªçŸ¥';
        if (ipPlanningUser.created_at) {
          try {
            const date = new Date(ipPlanningUser.created_at);
            if (!isNaN(date.getTime())) {
              registrationTime = date.toLocaleString('zh-TW', {
                timeZone: 'Asia/Taipei',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
              });
            }
          } catch (e) {
            registrationTime = ipPlanningUser.created_at;
          }
        }
        
        const isSubscribed = ipPlanningUser.is_subscribed !== false;
        const subscriptionStatus = isSubscribed ? 
          '<span style="color: #10b981; font-weight: bold;">âœ… å·²è¨‚é–±</span>' : 
          '<span style="color: #ef4444; font-weight: bold;">âŒ æœªè¨‚é–±</span>';
        
        let expiresAt = null;
        let daysLeft = null;
        let expiresAtText = 'æœªçŸ¥';
        let daysLeftText = '';
        let expirationWarning = '';
        
        if (ipPlanningToken && ipPlanningUser?.user_id) {
          try {
            const subResponse = await fetch(`${API_URL}/api/user/subscription`, {
              headers: {
                'Authorization': `Bearer ${ipPlanningToken}`
              }
            });
            
            if (subResponse.ok) {
              const subData = await subResponse.json();
              if (subData.expires_at) {
                expiresAt = new Date(subData.expires_at);
                const now = new Date();
                daysLeft = Math.ceil((expiresAt - now) / (1000 * 60 * 60 * 24));
                
                expiresAtText = expiresAt.toLocaleString('zh-TW', {
                  timeZone: 'Asia/Taipei',
                  year: 'numeric',
                  month: '2-digit',
                  day: '2-digit',
                  hour: '2-digit',
                  minute: '2-digit'
                });
                
                if (daysLeft < 0) {
                  daysLeftText = `<span style="color: #ef4444; font-weight: bold;">ï¼ˆå·²éæœŸ ${Math.abs(daysLeft)} å¤©ï¼‰</span>`;
                  expirationWarning = '<div style="margin-top: 12px; padding: 12px; background: #fee2e2; border: 1px solid #fca5a5; border-radius: 8px; color: #991b1b;"><strong>âš ï¸ è¨‚é–±å·²éæœŸ</strong><br>è«‹å‰å¾€è¨‚é–±é é¢çºŒè²»ä»¥ç¹¼çºŒä½¿ç”¨æœå‹™ã€‚</div>';
                } else if (daysLeft <= 3) {
                  daysLeftText = `<span style="color: #ef4444; font-weight: bold;">ï¼ˆå‰©é¤˜ ${daysLeft} å¤©ï¼‰</span>`;
                  expirationWarning = '<div style="margin-top: 12px; padding: 12px; background: #fef3c7; border: 1px solid #fde68a; border-radius: 8px; color: #92400e;"><strong>âš ï¸ è¨‚é–±å³å°‡åˆ°æœŸ</strong><br>è«‹ç›¡å¿«å‰å¾€è¨‚é–±é é¢çºŒè²»ã€‚</div>';
                } else if (daysLeft <= 7) {
                  daysLeftText = `<span style="color: #f59e0b; font-weight: bold;">ï¼ˆå‰©é¤˜ ${daysLeft} å¤©ï¼‰</span>`;
                  expirationWarning = '<div style="margin-top: 12px; padding: 12px; background: #fffbeb; border: 1px solid #fde68a; border-radius: 8px; color: #92400e;"><strong>æé†’</strong><br>æ‚¨çš„è¨‚é–±å°‡åœ¨ 7 å¤©å…§åˆ°æœŸï¼Œè«‹è¨˜å¾—çºŒè²»ã€‚</div>';
                } else {
                  daysLeftText = `<span style="color: #10b981;">ï¼ˆå‰©é¤˜ ${daysLeft} å¤©ï¼‰</span>`;
                }
              }
            }
          } catch (e) {
            console.warn('è¼‰å…¥è¨‚é–±è©³æƒ…å¤±æ•—:', e);
          }
        }
        
        content.innerHTML = `
          <div class="profile-details">
            <div class="detail-item">
              <label>å§“åï¼š</label>
              <span>${escapeHtml(ipPlanningUser.name || 'æœªè¨­å®š')}</span>
            </div>
            <div class="detail-item">
              <label>Emailï¼š</label>
              <span>${escapeHtml(ipPlanningUser.email || 'æœªè¨­å®š')}</span>
            </div>
            <div class="detail-item">
              <label>ç”¨æˆ¶IDï¼š</label>
              <span>${escapeHtml(ipPlanningUser.user_id || 'æœªç”Ÿæˆ')}</span>
            </div>
            <div class="detail-item">
              <label>è¨»å†Šæ™‚é–“ï¼š</label>
              <span>${escapeHtml(registrationTime)}</span>
            </div>
            <div class="detail-item">
              <label>è¨‚é–±ç‹€æ…‹ï¼š</label>
              <span>${subscriptionStatus}</span>
            </div>
            ${isSubscribed ? `
            <div class="detail-item">
              <label>åˆ°æœŸæ—¥æœŸï¼š</label>
              <span>${escapeHtml(expiresAtText)} ${daysLeftText}</span>
            </div>
            ${expirationWarning}
            <div class="detail-actions" style="margin-top: 16px; display: flex; gap: 8px; flex-wrap: wrap;">
              <a href="subscription.html" style="display: inline-block; padding: 8px 16px; background: #3B82F6; color: white; border-radius: 6px; text-decoration: none; font-weight: 500;">
                ğŸ’³ çºŒè²»è¨‚é–±
              </a>
              ${userInfo.auto_renew !== false ? `
              <button onclick="cancelAutoRenewForUserDB()" style="display: inline-block; padding: 8px 16px; background: #EF4444; color: white; border: none; border-radius: 6px; font-weight: 500; cursor: pointer; font-size: 14px;">
                ğŸš« å–æ¶ˆè‡ªå‹•çºŒè²»
              </button>
              ` : `
              <div style="display: inline-block; padding: 8px 16px; background: #F3F4F6; color: #6B7280; border-radius: 6px; font-weight: 500; font-size: 14px;">
                âœ… å·²å–æ¶ˆè‡ªå‹•çºŒè²»
              </div>
              `}
            </div>
            ` : `
            <div class="detail-actions">
              <a href="subscription.html" style="display: inline-block; padding: 8px 16px; background: #10b981; color: white; border-radius: 6px; text-decoration: none; font-weight: 500;">
                âœ¨ å•Ÿç”¨è¨‚é–±
              </a>
            </div>
            `}
          </div>
        `;
      }
      
      // XSS é˜²è­·å‡½æ•¸
      function escapeHtml(text) {
        if (!text) return '';
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }
      
      // ç²å–ç”¨æˆ¶è³‡è¨Š
      async function fetchUserInfo() {
        if (!ipPlanningToken) return;
        
        try {
          const response = await fetch(`${API_URL}/api/auth/me`, {
            headers: {
              'Authorization': `Bearer ${ipPlanningToken}`
            }
          });
          
          if (response.ok) {
            const userData = await response.json();
            ipPlanningUser = userData;
            localStorage.setItem('ipPlanningUser', JSON.stringify(userData));
            updateUserInfo();
          } else if (response.status === 401) {
            // Token éæœŸï¼Œå˜—è©¦åˆ·æ–°
            if (window.Api && window.Api.refreshTokenIfNeeded) {
              await window.Api.refreshTokenIfNeeded();
              // åˆ·æ–°å¾Œé‡è©¦
              if (ipPlanningToken) {
                return fetchUserInfo();
              }
            }
          }
        } catch (error) {
          console.error('ç²å–ç”¨æˆ¶è³‡è¨Šå¤±æ•—:', error);
        }
      }
      
      // åˆå§‹åŒ–é é¢
      document.addEventListener('DOMContentLoaded', async () => {
        // æª¢æŸ¥ç™»å…¥ç‹€æ…‹ï¼ˆå‰µä½œè€…è³‡æ–™åº«å…è¨±æœªè¨‚é–±ç”¨æˆ¶è¨ªå•ï¼Œè‡³å°‘å¯æŸ¥çœ‹å€‹äººè³‡è¨Šå’Œç™»å‡ºï¼‰
        if (window.ReelMindCommon && window.ReelMindCommon.checkFeatureAccess) {
          const canAccess = await window.ReelMindCommon.checkFeatureAccess('userDB');
          if (!canAccess) {
            return; // checkFeatureAccess å·²ç¶“è™•ç†äº†è·³è½‰ï¼ˆæœªç™»å…¥æœƒå°å‘ç™»å…¥ï¼‰
          }
        }
        
        // è¼‰å…¥ç”¨æˆ¶è³‡è¨Š
        if (window.Auth && window.Auth.getToken()) {
          ipPlanningToken = window.Auth.getToken();
        }
        
        if (window.ReelMindCommon && window.ReelMindCommon.getUser) {
          ipPlanningUser = window.ReelMindCommon.getUser();
        } else {
          const userStr = localStorage.getItem('ipPlanningUser');
          ipPlanningUser = userStr ? JSON.parse(userStr) : null;
        }
        
        // æ›´æ–°ç”¨æˆ¶è³‡è¨Šé¡¯ç¤º
        updateUserInfo();
        
        // è¼‰å…¥å€‹äººè³‡æ–™ï¼ˆé è¨­é¡¯ç¤ºï¼‰
        loadPersonalInfoForUserDB();
        
        // å¦‚æœæ²’æœ‰ç”¨æˆ¶è³‡è¨Šä½†æœ‰ tokenï¼Œå˜—è©¦ç²å–
        if (ipPlanningToken && (!ipPlanningUser || !ipPlanningUser.user_id)) {
          await fetchUserInfo();
        }
      });
    </script>
    
    <!-- æ‰€æœ‰ userDB ç›¸é—œå‡½æ•¸å·²ç§»è‡³ assets/js/userDB.js -->
  </body>
</html>

